{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector(\".feedback-form\");\nconst textarea = form.querySelector(\"textarea\");\nconst FORM_STATE = \"feedback-form-state\";\n\nfunction inputChangeHandler() {\n    const email = form.elements.email.value.trim();\n    const message = textarea.value.trim();\n    const data = { email, message }; \n    localStorage.setItem(FORM_STATE, JSON.stringify(data));\n}\n\nfunction formSubmitHandler(event) {\n    event.preventDefault();\n    const email = form.elements.email.value.trim();\n    const message = textarea.value.trim();\n    const data = { email, message };\n    const jsn = localStorage.getItem(FORM_STATE) ?? \"\";\n    try {\n        const savedData = JSON.parse(jsn);\n        console.log(savedData);\n        if (email !== \"\" && message !== \"\") {\n            textarea.value = savedData.message;\n            form.elements.email.value = savedData.email;\n            localStorage.removeItem(FORM_STATE);\n            console.log(\"Form submitted. Received data:\", data);\n            form.reset();\n        } else {\n            alert(\"Please fill out both email and message fields:\");\n        }\n    } catch (error) {\n        console.log(\"Error parsing JSON data:\", error);\n    }\n}\n\nwindow.addEventListener('load', function() {\n    const jsn = localStorage.getItem(FORM_STATE) ?? \"\";\n    try {\n        const savedData = JSON.parse(jsn);\n        if (savedData.email !== undefined && savedData.message !== undefined) {\n            textarea.value = savedData.message;\n            form.elements.email.value = savedData.email;\n        }\n    } catch (error) {\n        console.log(\"Error parsing JSON data:\", error);\n    }\n});\n\nform.addEventListener(\"input\", inputChangeHandler);\nform.addEventListener(\"submit\", formSubmitHandler);"],"names":["form","textarea","FORM_STATE","inputChangeHandler","email","message","data","formSubmitHandler","event","jsn","savedData","error"],"mappings":"oDAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAWD,EAAK,cAAc,UAAU,EACxCE,EAAa,sBAEnB,SAASC,GAAqB,CAC1B,MAAMC,EAAQJ,EAAK,SAAS,MAAM,MAAM,OAClCK,EAAUJ,EAAS,MAAM,KAAI,EAC7BK,EAAO,CAAE,MAAAF,EAAO,QAAAC,GACtB,aAAa,QAAQH,EAAY,KAAK,UAAUI,CAAI,CAAC,CACzD,CAEA,SAASC,EAAkBC,EAAO,CAC9BA,EAAM,eAAc,EACpB,MAAMJ,EAAQJ,EAAK,SAAS,MAAM,MAAM,OAClCK,EAAUJ,EAAS,MAAM,KAAI,EAC7BK,EAAO,CAAE,MAAAF,EAAO,QAAAC,GAChBI,EAAM,aAAa,QAAQP,CAAU,GAAK,GAChD,GAAI,CACA,MAAMQ,EAAY,KAAK,MAAMD,CAAG,EAChC,QAAQ,IAAIC,CAAS,EACjBN,IAAU,IAAMC,IAAY,IAC5BJ,EAAS,MAAQS,EAAU,QAC3BV,EAAK,SAAS,MAAM,MAAQU,EAAU,MACtC,aAAa,WAAWR,CAAU,EAClC,QAAQ,IAAI,iCAAkCI,CAAI,EAClDN,EAAK,MAAK,GAEV,MAAM,gDAAgD,CAE7D,OAAQW,EAAO,CACZ,QAAQ,IAAI,2BAA4BA,CAAK,CAChD,CACL,CAEA,OAAO,iBAAiB,OAAQ,UAAW,CACvC,MAAMF,EAAM,aAAa,QAAQP,CAAU,GAAK,GAChD,GAAI,CACA,MAAMQ,EAAY,KAAK,MAAMD,CAAG,EAC5BC,EAAU,QAAU,QAAaA,EAAU,UAAY,SACvDT,EAAS,MAAQS,EAAU,QAC3BV,EAAK,SAAS,MAAM,MAAQU,EAAU,MAE7C,OAAQC,EAAO,CACZ,QAAQ,IAAI,2BAA4BA,CAAK,CAChD,CACL,CAAC,EAEDX,EAAK,iBAAiB,QAASG,CAAkB,EACjDH,EAAK,iBAAiB,SAAUO,CAAiB"}